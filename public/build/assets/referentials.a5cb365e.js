import{m as j,p as t}from"./app.0ff6d003.js";const S=j("referentials",{state:()=>({projects:[],ticketStatuses:[],ticketTypes:[],ticketPriorities:[],users:[],roles:[],loading:!1,isLoaded:!1}),actions:{async fetchAllReferentials(){var r,i,o,c,l,d;if(!this.isLoaded){this.loading=!0;try{const[e,n,p,y,h,u]=await Promise.all([t.get("/projects",{params:{per_page:-1}}),t.get("/referential/ticket-statuses"),t.get("/referential/ticket-types"),t.get("/referential/ticket-priorities"),t.get("/users",{params:{per_page:-1}}),t.get("/roles")]),f=((r=e.data)==null?void 0:r.data)||e.data||[],A=((i=n.data)==null?void 0:i.data)||n.data||[],k=((o=p.data)==null?void 0:o.data)||p.data||[],m=((c=y.data)==null?void 0:c.data)||y.data||[],g=((l=h.data)==null?void 0:l.data)||h.data||[],R=((d=u.data)==null?void 0:d.data)||u.data||[];this.projects=Array.isArray(f)?f:[],this.ticketStatuses=Array.isArray(A)?A:[],this.users=Array.isArray(g)?g:[],this.roles=Array.isArray(R)?R:[],this.ticketTypes=(Array.isArray(k)?k:[]).sort((a,s)=>a.name.localeCompare(s.name)),this.ticketPriorities=(Array.isArray(m)?m:[]).sort((a,s)=>a.name.localeCompare(s.name)),this.isLoaded=!0}catch(e){console.error("Failed to fetch referential data:",e),this.projects=[],this.ticketStatuses=[],this.ticketTypes=[],this.ticketPriorities=[],this.users=[],this.roles=[]}finally{this.loading=!1}}}}});export{S as u};
